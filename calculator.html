<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="theme-color" content="#121212">
    <title>Bitcoin Censorship Resistance Calculator</title>
    
    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://censorshipresistant.com/calculator.html">
    <meta property="og:site_name" content="Censorship Resistant">
    <meta property="og:title" content="Bitcoin Censorship Resistance Calculator">
    <meta property="og:description" content="Calculate how many guerrilla miners are needed to keep Bitcoin censorship resistant.">
    <meta property="og:image" content="https://censorshipresistant.com/images/header.jpg">
    <meta property="og:image:alt" content="Bitcoin Censorship Resistance">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://censorshipresistant.com/calculator.html">
    <meta name="twitter:site" content="Censorship Resistant">
    <meta name="twitter:title" content="Bitcoin Censorship Resistance Calculator">
    <meta name="twitter:description" content="Calculate how many guerrilla miners are needed to keep Bitcoin censorship resistant.">
    <meta name="twitter:image" content="https://censorshipresistant.com/images/header.jpg">
    <meta name="twitter:image:alt" content="Bitcoin Censorship Resistance">
    
    <!-- Load main styles first, then calculator-specific styles -->
    <link rel="stylesheet" href="css/main-styles.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="scripts/script.js"></script>
    <script src="scripts/mobile-menu.js"></script>
    <!-- Extra script to ensure correct menu behavior -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for calculator page menu
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            const navContainer = document.querySelector('.nav-container');
            const logo = document.querySelector('.logo');
            
            function updateMenuVisibility() {
                const isMobile = window.innerWidth <= 768 || (window.innerHeight <= 500 && window.matchMedia('(orientation: landscape)').matches);
                
                if (isMobile) {
                    // On mobile: show hamburger, hide links
                    if (menuToggle) menuToggle.style.display = 'flex';
                    if (navLinks) navLinks.style.display = 'none';
                    
                    // Ensure proper layout of the nav container
                    if (navContainer) {
                        navContainer.style.flexDirection = 'row';
                        navContainer.style.justifyContent = 'space-between';
                        navContainer.style.alignItems = 'center';
                        navContainer.style.padding = '1rem 2rem';
                    }
                    
                    // Ensure logo doesn't push down layout
                    if (logo) logo.style.marginBottom = '0';
                } else {
                    // On desktop: hide hamburger, show links
                    if (menuToggle) menuToggle.style.display = 'none';
                    if (navLinks) navLinks.style.display = 'flex';
                }
            }
            
            // Run on page load
            updateMenuVisibility();
            
            // Run on resize and orientation change
            window.addEventListener('resize', updateMenuVisibility);
            window.addEventListener('orientationchange', updateMenuVisibility);
        });
    </script>
</head>
<body class="calculator-page">
    <!-- Navigation Bar -->
    <nav class="main-nav">
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="security-model.html">Security Model</a></li>
                <li><a href="attack-vectors.html">Attack Vectors</a></li>
                <li><a href="mining-pools.html">Mining Pools</a></li>
                <li><a href="calculator.html" class="active">Resistance Calculator</a></li>
                <li><a href="resources.html">Resources</a></li>
            </ul>
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav">
        <ul class="mobile-nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="security-model.html">Security Model</a></li>
            <li><a href="attack-vectors.html">Attack Vectors</a></li>
            <li><a href="mining-pools.html">Mining Pools</a></li>
            <li><a href="calculator.html" class="active">Resistance Calculator</a></li>
            <li><a href="resources.html">Resources</a></li>
        </ul>
    </div>

    <!-- Overlay for mobile menu -->
    <div class="overlay"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Censorship Resistance Calculator</h1>
            <p>Calculate how many guerrilla miners are needed to keep Bitcoin censorship resistant.</p>
        </div>
    </section>

    <!-- Calculator Content Area -->
    <div class="container">

        <div class="stats">
            <div class="stat">
                <h2>Current Bitcoin Hashrate</h2>
                <p id="hashrate">Loading...</p> <!-- Restored original ID -->
            </div>
            <div class="stat">
                <h2>Guerrilla Miners Needed</h2>
                <p id="miners">Loading...</p> <!-- Restored original ID -->
            </div>
        </div>
        
        <div class="slider-container">          
            <div class="slider-group">
                <label>Hashpower per Guerrilla Miner <span class="info-icon" id="power-info-icon">ⓘ</span></label>
                <div class="slider-controls">
                     <!-- Restored original ID and structure, now update range -->
                    <input type="range" id="bitaxe-hashrate-slider" min="1" max="500" value="50" step="1"> 
                    <span id="bitaxe-value">50 TH/s</span> <!-- Ensure default value display is correct -->
                </div>
            </div>
            
            <div class="slider-group">
                <label>Existing Guerrilla Hashrate <span class="info-icon" id="guerrilla-info-icon">ⓘ</span></label>
                <div class="slider-controls">
                    <!-- Restored original ID and structure -->
                    <input type="range" id="black-market-miners-slider" min="0" max="51" value="5"> 
                    <span id="slider-value">5%</span>
                </div>
            </div>
        </div>
        
        <div class="action-link">
            <a href="https://bitaxe.org/" target="_blank" rel="noopener">Become a guerrilla miner!</a>
        </div>
        
        <div class="info-panel">
            <h2>About This Metric</h2>
            <p>This calculator helps determine Bitcoin's censorship resistance by estimating how many guerrilla miners are needed to fully secure the network. For Bitcoin to resist on-chain censorship, at least 51% of the total network hashrate must come from miners operating outside regulatory control.</p>
            <p>The calculation accounts for any existing guerrilla hashrate and determines how many more guerrilla miners of a specified hashpower would be needed to reach the critical 51% censorship resistance threshold.</p>
        </div>
        
        <div class="definitions-panel">
            <h2>Terminology</h2>
            <div class="definition">
                <h4>Guerrilla Miners <span class="alt-term">(Black Market Miners)</span></h4>
                <p>Bitcoin miners that operate covertly without regulatory oversight, often in small-scale or home setups distributed globally. These miners contribute to network decentralization by remaining anonymous and resistant to forced censorship or government capture.</p>
            </div>
            <div class="definition">
                <h4 class="regulated">Regulated Miners <span class="alt-term">(White Market Miners)</span></h4>
                <p>Bitcoin miners that operate openly under regulatory oversight, typically as registered companies in industrial-scale facilities. These miners must comply with local regulations and are vulnerable to regulatory pressure, censorship mandates, and government capture.</p>
            </div>
        </div>
        
        <div id="info-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div id="guerrilla-info" style="display: none;">
                    <h3>Existing Guerrilla Hashrate</h3>
                    <p>This slider sets what percentage of Bitcoin's current hashrate is <strong>already</strong> coming from guerrilla miners.</p>
                    <p><strong>How it works:</strong> If set to 15%, it means:</p>
                    <ul>
                        <li>15% of current hashrate is already guerrilla miners</li>
                        <li>We need to add enough new miners to make the <em>total</em> resistant hashrate reach 51%</li>
                        <li>The higher this percentage, the fewer additional miners needed</li>
                    </ul>
                </div>
                <div id="power-info" style="display: none;">
                    <h3>Hashpower per Guerrilla Miner</h3>
                    <p>This slider sets the hashpower of each <strong>additional</strong> guerrilla miner added to the network.</p>
                    <p><strong>How it works:</strong></p>
                    <ul>
                        <li>The total additional hashrate needed is divided by this value</li>
                        <li>Higher TH/s = fewer additional miners needed</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer (from main site template) -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>CensorshipResistant.com</h3>
                <p>
                    Understanding and protecting Bitcoin's decentralized and permissionless nature.
                </p>
            </div>
            <div class="footer-section">
                <h3>Navigation</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="security-model.html">Security Model</a></li>
                    <li><a href="attack-vectors.html">Attack Vectors</a></li>
                    <li><a href="mining-pools.html">Mining Pools</a></li>
                    <li><a href="calculator.html">Resistance Calculator</a></li>
                    <li><a href="resources.html">Resources</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Links</h3>
                <div class="social-links">
                    <a href="https://github.com/aeonBTC" class="social-link" target="_blank">
                        <i class="fab fa-github fa-2x"></i>
                    </a>
                    <a href="https://x.com/aeonBTC" class="social-link" target="_blank">
                        <i class="fa-brands fa-x-twitter fa-2x"></i>
                    </a>
                    <a href="https://iris.to/npub1umeupsqaqrhnx0xzrtygz4fz3n63d5zd36e4nkkr6n9n38xg4teqc7z93q" class="social-link" target="_blank">
                        <img src="images/nostr.png" alt="Nostr" class="nostr-icon">
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p><a href="https://x.com/aeonBTC/status/1647682869035413505" target="_blank">"Institutional miners are a security risk.<br>The only secure hash is unknown hash."</a></p>
        </div>
    </footer>
</body>
</html> 